(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["departamentoatividades"],{"0c1f":function(t,e,a){"use strict";a("2cd0")},"2cd0":function(t,e,a){},cd10:function(t,e,a){},dfd7:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-menu",{staticStyle:{"margin-bottom":"1rem"}},[a("b-menu-list",{attrs:{label:"Filtros Atividade"}},[a("b-field",[a("b-autocomplete",{attrs:{placeholder:"Nome da Atividade","keep-first":"",icon:"magnify",data:t.atividadesComFiltro,field:"name"},model:{value:t.nomeAtividade,callback:function(e){t.nomeAtividade=e},expression:"nomeAtividade"}},[a("template",{slot:"empty"},[t._v("Atividade não encontrada")])],2)],1),t._v(" "),a("b-field",[a("b-select",{attrs:{placeholder:"Tipo de Atividade",icon:"magnify",expanded:""}},t._l(t.tiposAtividade,(function(e,i){return a("option",{key:i,domProps:{value:e}},[t._v(t._s(e)+"\n          ")])})),0)],1),t._v(" "),a("b-field",[a("b-select",{attrs:{placeholder:"Estado",icon:"magnify",expanded:""}},t._l(t.estadosSubmissao,(function(e,i){return a("option",{key:i,domProps:{value:e}},[t._v(t._s(t.$store.state.estadoSubmissao[e].descricao))])})),0)],1),t._v(" "),a("b-menu-item",{staticClass:"is-not-menu",attrs:{expanded:t.maisFiltrosAtividade},on:{click:function(e){t.maisFiltrosAtividade=!t.maisFiltrosAtividade}},scopedSlots:t._u([{key:"label",fn:function(e){return[a("b-icon",{staticClass:"is-pulled-right",attrs:{icon:e.expanded?"minus":"plus"}}),t._v(" "),a("small",[t._v("Mais Filtros de Atividade")])]}}])},[a("b-field",[a("b-datepicker",{attrs:{placeholder:"Submetido depois de...",icon:"calendar-today"}})],1),t._v(" "),a("b-field",[a("b-datepicker",{attrs:{placeholder:"Submetido antes de...",icon:"calendar-today"}})],1)],1)],1)],1),t._v(" "),a("b-menu",[a("b-menu-list",{attrs:{label:"Filtros Sessão"}},[a("div",{staticClass:"columns",staticStyle:{"margin-bottom":"0"}},[a("b-field",{staticClass:"column",staticStyle:{"margin-bottom":"0"}},[a("b-timepicker",{attrs:{placeholder:"De",icon:"clock",editable:"","increment-minutes":30}})],1),t._v(" "),a("b-field",{staticClass:"column"},[a("b-timepicker",{attrs:{placeholder:"Até",icon:"clock",editable:"","increment-minutes":30}})],1)],1),t._v(" "),a("b-menu-item",{staticClass:"is-not-menu",attrs:{expanded:t.maisFiltrosSessao},on:{click:function(e){t.maisFiltrosSessao=!t.maisFiltrosSessao}},scopedSlots:t._u([{key:"label",fn:function(e){return[a("b-icon",{staticClass:"is-pulled-right",attrs:{icon:e.expanded?"minus":"plus"}}),t._v(" "),a("small",[t._v("Mais Filtros de Sessão")])]}}])})],1)],1)],1)},s=[],o=a("2909"),n=(a("4de4"),a("d3b7"),a("25f0"),a("b0c0"),a("6062"),a("3ca3"),a("ddb0"),a("d81d"),{name:"AtividadesMenuLateral",props:{atividades:[]},data:function(){return{maisFiltrosAtividade:!1,maisFiltrosSessao:!1,nomeAtividade:""}},computed:{atividadesComFiltro:function(){var t=this;return this.atividades.filter((function(e){return e.name.toString().toLowerCase().indexOf(t.nomeAtividade.toLowerCase())>=0}))},tiposAtividade:function(){return Object(o["a"])(new Set(this.atividades.map((function(t){return t.activity_type})))).sort()},estadosSubmissao:function(){return Object(o["a"])(new Set(this.atividades.map((function(t){return t.submission_state})))).sort()}}}),r=n,d=(a("0c1f"),a("2877")),l=Object(d["a"])(r,i,s,!1,null,null,null);e["a"]=l.exports},e938:function(t,e,a){"use strict";a("cd10")},f8de:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-3"},[a("AtividadesMenuLateral",{attrs:{atividades:t.atividades}})],1),t._v(" "),a("div",{staticClass:"column"},[a("nav",{staticClass:"breadcrumb",attrs:{"aria-label":"breadcrumbs"}},[a("ul",[a("li",[a("router-link",{attrs:{to:"/"}},[t._v("Início")])],1),t._v(" "),a("li",{staticClass:"is-active"},[a("router-link",{attrs:{to:{name:"atividades do departamento"}}},[t._v("Atividades do Departamento")])],1)])]),t._v(" "),a("AtividadesDepartamentoTabela",{attrs:{activities:t.atividades}})],1)])},s=[],o=(a("d81d"),a("dfd7")),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-table",{ref:"table",attrs:{data:t.proposals,hoverable:"",striped:"",detailed:"","default-sort":"submission_date","sort-icon":"menu-up",paginated:"","per-page":"10","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page"},on:{click:t.toggleDetails,"details-open":t.closeOtherDetails},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-table-column",{attrs:{field:"name",label:"Nome",sortable:""}},[t._v("\n        "+t._s(e.row.name)+"\n      ")]),t._v(" "),a("b-table-column",{attrs:{field:"submission_date",label:"Submetido a",sortable:"",width:"150"}},[t._v("\n        "+t._s(e.row.submission_date)+"\n      ")]),t._v(" "),a("b-table-column",{attrs:{field:"submission_state",label:"Estado",sortable:""}},[a("span",{staticClass:"tag text",class:t.state[e.row.submission_state].color,staticStyle:{width:"7rem","font-size":"small"}},[t._v("\n          "+t._s(t.state[e.row.submission_state].description)+"\n        ")])]),t._v(" "),a("b-table-column",{attrs:{field:"creator",label:"Criador",sortable:""}},[t._v("\n        "+t._s(e.row.creator)+"\n      ")])]}},{key:"detail",fn:function(e){return[a("div",{staticClass:"content"},[a("div",{staticStyle:{"font-size":"15px"}},[a("p",[a("strong",[t._v("Nome: ")]),t._v(t._s(e.row.name))]),t._v(" "),a("p",[a("strong",[t._v("Criador:")]),t._v(" "+t._s(e.row.creator))]),t._v(" "),a("p",[a("strong",[t._v("Data de submissão:")]),t._v("\n            "+t._s(e.row.submission_date)+"\n          ")]),t._v(" "),a("p",[a("strong",[t._v("Estado de submissão:")]),t._v("\n            "+t._s(t.state[e.row.submission_state].description)+"\n          ")]),t._v(" "),a("p",[a("strong",[t._v("Tipo de Atividade:")]),t._v(" "+t._s(e.row.activity_type)+"\n          ")]),t._v(" "),a("p",[a("strong",[t._v("Descrição:")]),t._v(" "+t._s(e.row.description))]),t._v(" "),a("p",[a("strong",[t._v("Campus:")]),t._v(" "+t._s(e.row.campus))]),t._v(" "),a("p",[a("strong",[t._v("Entidade Organizacional:")]),t._v("\n            "+t._s(e.row.organizational_entity)+"\n          ")]),t._v(" "),a("p",[a("strong",[t._v("Departamento:")]),t._v(" "+t._s(e.row.department))]),t._v(" "),a("p",[a("strong",[t._v("Sessões:")])]),t._v(" "),a("b-table",{attrs:{data:e.row.sessions},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-table-column",{attrs:{field:"datetime",label:"Dia"}},[t._v("\n                "+t._s(t.moment(e.row.datetime).format("DD/MM/YYYY"))+"\n              ")]),t._v(" "),a("b-table-column",{attrs:{field:"datetime",label:"Hora"}},[t._v("\n                "+t._s(t.moment(e.row.datetime).format("hh:mm"))+"\n              ")]),t._v(" "),a("b-table-column",{attrs:{field:"duration",label:"Duração"}},[t._v("\n                "+t._s(e.row.duration)+" min\n              ")]),t._v(" "),a("b-table-column",{attrs:{field:"max_students",label:"Máximo de participantes"}},[t._v("\n                "+t._s(e.row.max_students)+"\n              ")]),t._v(" "),a("b-table-column",{attrs:{field:"place",label:"Espaço"}},[t._v("\n                "+t._s(e.row.place?e.row.place:"Por alocar")+"\n              ")])]}}])})],1),t._v(" "),"P"===e.row.submission_state?a("div",{staticStyle:{"margin-top":"13px"}},[a("b-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"is-success","icon-left":"check"},on:{click:t.confirm}},[t._v("Aceitar")]),t._v(" "),a("b-button",{attrs:{type:"is-danger","icon-left":"delete"},on:{click:t.confirmCustomDelete}},[t._v("Rejeitar")])],1):a("div",{staticStyle:{"margin-top":"13px"}},[a("b-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"is-primary","icon-left":"pencil"}},[t._v("Propor alteração")])],1)])]}}])})],1)},r=[],d=(a("159b"),{name:"AtividadesDepartamentoTabela",data:function(){var t=a("d1dd").map((function(t){return t.fields}));return{proposals:t,moment:a("c1df"),state:{A:{description:"Aceite",color:"is-success"},P:{description:"Pendente",color:"is-warning"},R:{description:"Rejeitada",color:"is-danger"}}}},methods:{toggleDetails:function(t){this.$refs.table.toggleDetails(t)},closeOtherDetails:function(t){var e=this;this.proposals.forEach((function(a){t!==a&&e.$refs.table.closeDetailRow(a)})),this.$refs.table.openDetailRow(t)},confirm:function(){var t=this;this.$buefy.dialog.confirm({message:"Tem a certeza que deseja aceitar o pedido de criação da atividade?",cancelText:"Cancelar",confirmText:"Confirmar",type:"is-success",onConfirm:function(){t.$buefy.toast.open("Atividade aceite!"),t.$store.commit("adicionarNotificacao","A proposta de atividade foi aceite com sucesso!")}})},confirmCustomDelete:function(){var t=this;this.$buefy.dialog.confirm({title:"Rejeitar Atividade",message:"Tem a certeza que deseja <b>Rejeitar</b> a ativdade? Esta ação não pode ser revertida!",cancelText:"Cancelar",confirmText:"Rejeitar",type:"is-danger",hasIcon:!0,onConfirm:function(){return t.prompt()}})},prompt:function(){var t=this;this.$buefy.dialog.prompt({message:"<p>Por favor, indique a razão pela qual rejeitou a atividade.</p>\n                  <small>Esta será enviada para o professor que a propôs.</small>",inputAttrs:{placeholder:"Indique o motivo..."},trapFocus:!0,cancelText:"Cancelar",confirmText:"Enviar",onConfirm:function(e){t.$buefy.toast.open("Atividade rejeitada!"),t.$store.commit("adicionarNotificacao","A proposta de atividade foi rejeitada com sucesso!")}})}}}),l=d,c=(a("e938"),a("2877")),u=Object(c["a"])(l,n,r,!1,null,null,null),m=u.exports,v={name:"AtividadesDepartamento",components:{AtividadesDepartamentoTabela:m,AtividadesMenuLateral:o["a"]},data:function(){return{atividades:a("d1dd").map((function(t){return t.fields}))}}},p=v,b=Object(c["a"])(p,i,s,!1,null,null,null);e["default"]=b.exports}}]);
//# sourceMappingURL=departamentoatividades.24bfb2ee.js.map